{% extends 'base.htm' %}
{% load blog_tags %}{% load tagging_tags %}{% load gravatar %}{% load i18n %}
{# ----------Title----------- #}
{% block title %}
{% trans "Entries List" %} | {% if posts.list_by %}::{{ posts.list_by }}{% endif %}
{% endblock%}
{# ----------Content----------- #}
{% block content %}
<div id="posts">
{% if posts.object_list %}
{% for post in posts.object_list %}
	{% tags_for_object post as tag_list %}
<div class="post">
<h2><a href="{% url get_post_by_slug post.slug %}">{{ post.title|escape }}</a></h2>
<span class="date">{{ post.created|date:"j N Y" }}</span>
<div class="entry">
{{ post.intro|default:post.content|safe }}
<div class="clearfix"></div>
</div>
<span class="tags">
{% if tag_list %}
{% trans "Tags::" %}{% for tag in tag_list %}<a href="{% url list_post_by_tag tag%}">{{ tag }}</a>{% endfor %}
{% else %}
{% trans "No Tag"%}
{% endif %}
</span>
{% get_comments_count for post as comments_count %}
<span class="num-of-comments"><a title="post's comments" href="#COMMENT">{% blocktrans %}{{ comments_count }} comments{% endblocktrans %}</a></span>
</div>
{% endfor %}
{% else %}
<div class="message">
<span>{% trans 'No matched entry.' %}</span>
</div>
{% endif %}
<div class="page-nav">
{% if posts.has_next %}
<a class="page-prev" href="?page={{ posts.next_page_number }}">{% trans "<< Older Entries" %}</a>
{% endif %}

{% if posts.has_previous %}
<a class="page-next" href="?page={{ posts.previous_page_number }}">{% trans "Newer Entries >>" %}</a>
{% endif %}

{% if posts.has_previous or posts.has_next %}<div class="clearfix"></div>{% endif %}
</div>
</div>
{% endblock %}